<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Installation &#8212; Chemfiles 0.11.0-dev documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-sphinx.css?v=284a2d1d" />
    <link rel="stylesheet" type="text/css" href="_static/chemfiles.css?v=6ef80559" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js?v=ea5b7e3f"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Overview" href="overview.html" />
    <link rel="prev" title="Chemfiles, a modern library for chemistry file reading and writing" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Chemfiles</a>
        <span class="navbar-text navbar-version pull-left"><b>0.11-dev</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Navigation <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="cxx-tutorials.html">C++ Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="c-tutorials.html">C Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats.html">Supported formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="selections.html">Selection language</a></li>
<li class="toctree-l1"><a class="reference internal" href="properties.html">Properties</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="classes/index.html">C++ interface reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="capi/index.html">C interface reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="devdoc/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdoc/internals.html">Chemfiles internals</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="index.html" title="Previous Chapter: Chemfiles, a modern library for chemistry file reading and writing"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Chemfiles, a ...</span>
    </a>
  </li>
  <li>
    <a href="overview.html" title="Next Chapter: Overview"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Overview &raquo;</span>
    </a>
  </li>
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#pre-compiled-chemfiles">Pre-compiled chemfiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-from-sources">Building from sources</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-chemfiles-in-your-project">Using chemfiles in your project</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="cxx-tutorials.html">C++ Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="c-tutorials.html">C Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="formats.html">Supported formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="selections.html">Selection language</a></li>
<li class="toctree-l1"><a class="reference internal" href="properties.html">Properties</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="classes/index.html">C++ interface reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="capi/index.html">C interface reference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="devdoc/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="devdoc/internals.html">Chemfiles internals</a></li>
</ul>

<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this heading">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page describe the different installation methods for the C and C++
interfaces to chemfiles. If you want to use chemfiles from a different
language, please see the corresponding pages:</p>
<ul class="simple">
<li><p>Python: <a class="reference external" href="https://chemfiles.org/chemfiles.py/latest/">https://chemfiles.org/chemfiles.py/latest/</a></p></li>
<li><p>Julia: <a class="reference external" href="https://chemfiles.org/Chemfiles.jl/latest/">https://chemfiles.org/Chemfiles.jl/latest/</a></p></li>
<li><p>Rust: <a class="reference external" href="https://chemfiles.org/chemfiles.rs/latest/">https://chemfiles.org/chemfiles.rs/latest/</a></p></li>
<li><p>Fortran: <a class="reference external" href="https://chemfiles.org/chemfiles.f03/latest/">https://chemfiles.org/chemfiles.f03/latest/</a></p></li>
</ul>
</div>
<section id="pre-compiled-chemfiles">
<h2>Pre-compiled chemfiles<a class="headerlink" href="#pre-compiled-chemfiles" title="Permalink to this heading">¶</a></h2>
<p>We provide pre-compiled version of chemfiles (both a static library build and a
shared library build) on GitHub. Please look for the version you need on the
<a class="reference external" href="https://github.com/chemfiles/chemfiles-prebuilt/releases">chemfiles/chemfiles-prebuilt</a> repository.</p>
<hr class="docutils" />
<p>We also provide three <a class="reference external" href="https://conda.io/">conda</a> packages in the <cite>conda-forge</cite> community channel for
Linux and Os X.</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/conda-forge/chemfiles-feedstock">chemfiles</a> package
contains both the C++ and Python libraries. This is the one you want most of
the time.</p></li>
<li><p><a class="reference external" href="https://github.com/conda-forge/chemfiles-lib-feedstock">chemfiles-lib</a>
package contains the C++ library alone;</p></li>
<li><p><a class="reference external" href="https://github.com/conda-forge/chemfiles-feedstock">chemfiles-python</a>
package contains the Python binding to Chemfiles alone.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get all the packages</span>
conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>chemfiles

<span class="c1"># Get the C++ and C library</span>
conda<span class="w"> </span>install<span class="w"> </span>-c<span class="w"> </span>conda-forge<span class="w"> </span>chemfiles-lib
</pre></div>
</div>
</section>
<section id="building-from-sources">
<h2>Building from sources<a class="headerlink" href="#building-from-sources" title="Permalink to this heading">¶</a></h2>
<p>Provided you have all the required dependencies, you can also build chemfiles
from sources.</p>
<section id="core-library-dependencies">
<h3>Core library dependencies<a class="headerlink" href="#core-library-dependencies" title="Permalink to this heading">¶</a></h3>
<p>In order to build the core library, you will need a compiler able to compile
C++17 code. Chemfiles is automatically tested against GCC (&gt;= 9) on Linux, OSX
and Windows (mingw-w64); clang (&gt;= 15) on Linux and OS X and MSCV 17 on Windows.
It was also compiled successfully with Intel C++ compilers. Chemfiles also uses
the <a class="reference external" href="https://cmake.org/">CMake</a> build system, which is available in all the package managers.</p>
<section id="on-unix-like-systems-linux-os-x">
<h4>On UNIX-like systems (Linux, OS X, …)<a class="headerlink" href="#on-unix-like-systems-linux-os-x" title="Permalink to this heading">¶</a></h4>
<p>All these dependencies can be installed in one command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># On apt-get based distributions</span>
apt-get<span class="w"> </span>update
apt-get<span class="w"> </span>install<span class="w"> </span>build-essential<span class="w"> </span>cmake

<span class="c1"># On yum based distribution (CentOS/RHEL)</span>
yum<span class="w"> </span>install<span class="w"> </span>gcc<span class="w"> </span>gcc-c++<span class="w"> </span>make<span class="w"> </span>cmake

<span class="c1"># On dnf based distribution (Fedora)</span>
dnf<span class="w"> </span>install<span class="w"> </span>@development-tools<span class="w"> </span>cmake

<span class="c1"># On OS X with Homebrew</span>
brew<span class="w"> </span>install<span class="w"> </span>cmake
</pre></div>
</div>
</section>
<section id="on-windows">
<h4>On Windows<a class="headerlink" href="#on-windows" title="Permalink to this heading">¶</a></h4>
<p>You can use either MSVC 2015 compiler, or gcc as provided by <a class="reference external" href="http://www.mingw.org/">mingw</a>.
<a class="reference external" href="https://www.msys2.org/">MSYS2</a> offer a package manager to install all the needed libraries. After the
initial installation steps, you can run the following to install a recent C++
compiler:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># On 64-bits windows</span>
pacman<span class="w"> </span>-S<span class="w"> </span>mingw64/mingw-w64-x86_64-gcc

<span class="c1"># On 32-bits windows</span>
pacman<span class="w"> </span>-S<span class="w"> </span>mingw32/mingw-w64-i686-gcc
</pre></div>
</div>
<p>You will also need to install cmake, which can be found <a class="reference external" href="https://cmake.org/download/">here</a>.</p>
</section>
</section>
<section id="build-steps">
<h3>Build steps<a class="headerlink" href="#build-steps" title="Permalink to this heading">¶</a></h3>
<p>You can get the source code from either git, or from the <a class="reference external" href="https://github.com/Luthaf/chemfiles/releases">release</a> page of
Github. In the later case, just unpack the archive wherever you want the source
code to live. To get the latest development version, use git:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>where/you/whant/chemfiles/to/live
git<span class="w"> </span>clone<span class="w"> </span>https://github.com/chemfiles/chemfiles
<span class="nb">cd</span><span class="w"> </span>chemfiles
</pre></div>
</div>
<p>The following command build and install chemfiles</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>chemfiles
mkdir<span class="w"> </span>build
<span class="nb">cd</span><span class="w"> </span>build
cmake<span class="w"> </span>..<span class="w"> </span><span class="c1"># various options are allowed here</span>
cmake<span class="w"> </span>--build<span class="w"> </span>.
<span class="c1"># if you whant to run the tests before installing:</span>
ctest
cmake<span class="w"> </span>--build<span class="w"> </span>.<span class="w"> </span>--target<span class="w"> </span>install
</pre></div>
</div>
<p>The <strong class="command">cmake</strong> step can be further configured by using the curse-based GUI
(<strong class="command">ccmake .</strong>) or providing some command-line arguments. Here are the
most important options:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Default value</p></th>
<th class="head"><p>Effect/Informations</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-DCMAKE_INSTALL_PREFIX=prefix</span></code></p></td>
<td><p><code class="file docutils literal notranslate"><span class="pre">/usr/local</span></code></p></td>
<td><p>Set the installation prefix
to <code class="docutils literal notranslate"><span class="pre">prefix</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-DCMAKE_BUILD_TYPE=type</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">release</span></code></p></td>
<td><p>Set to <code class="docutils literal notranslate"><span class="pre">debug</span></code> for debug
information</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-DBUILD_SHARED_LIBS=ON|OFF</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OFF</span></code></p></td>
<td><p>Build shared library instead
of static one.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-DCHFL_BUILD_DOCUMENTATION=ON|OFF</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OFF</span></code></p></td>
<td><p>Build the documentation.
This needs <a class="reference external" href="http://sphinx-doc.org/">sphinx</a> and
<a class="reference external" href="http://doxygen.org/">doxygen</a> to be installed</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-DCHFL_BUILD_TESTS=ON|OFF</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OFF</span></code></p></td>
<td><p>Build the test suite.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-DCHFL_SYSTEM_LZMA=ON|OFF</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OFF</span></code></p></td>
<td><p>Use the system-provided
lzma library.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-DCHFL_SYSTEM_ZLIB=ON|OFF</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OFF</span></code></p></td>
<td><p>Use the system-provided zlib</p></td>
</tr>
</tbody>
</table>
<p>For instance, to install chemfiles to <code class="file docutils literal notranslate"><span class="pre">$HOME/local</span></code>, you should use:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cmake<span class="w"> </span>-DCMAKE_INSTALL_PREFIX<span class="o">=</span><span class="nv">$HOME</span>/local<span class="w"> </span>..
</pre></div>
</div>
</section>
</section>
<section id="using-chemfiles-in-your-project">
<h2>Using chemfiles in your project<a class="headerlink" href="#using-chemfiles-in-your-project" title="Permalink to this heading">¶</a></h2>
<p>There are multiple ways to use chemfiles in your own code:</p>
<ul class="simple">
<li><p>adding the include path and library manually (in a Makefile, or a Visual Studio project);</p></li>
<li><p>using the CMake configuration file;</p></li>
<li><p>including chemfiles inside a CMake based-project.</p></li>
</ul>
<section id="manually-setting-include-and-library-path">
<h3>Manually setting include and library path<a class="headerlink" href="#manually-setting-include-and-library-path" title="Permalink to this heading">¶</a></h3>
<p>After installing chemfiles on your computer, you can start using it with your
own C or C++ program by passing the corresponding include path and library path
to your compiler. For example, on *nix (GNU/Linux or OS X) you can compile any
code depending on chemfiles with the following command</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># change &lt;PREFIX&gt; to the location where you installed chemfiles</span>
<span class="c1"># (default is /usr/local)</span>
g++<span class="w"> </span>my-code.cpp<span class="w"> </span>-o<span class="w"> </span>my-code<span class="w"> </span>-I&lt;PREFIX&gt;/include<span class="w"> </span>-lchemfiles<span class="w"> </span>-L&lt;PREFIX&gt;/lib
</pre></div>
</div>
<p>Here, <code class="docutils literal notranslate"><span class="pre">-I</span> <span class="pre">&lt;PREFIX&gt;/include</span></code> tells the compiler where to look for chemfiles
headers, <code class="docutils literal notranslate"><span class="pre">-lchemfiles</span></code> tells it to link the chemfiles library in the final
executable, and <code class="docutils literal notranslate"><span class="pre">-L</span> <span class="pre">&lt;PREFIX&gt;/lib</span></code> tells the compiler where to look for the
chemfiles library.</p>
<p>The same strategy should be possible to use with Visual Studio on Windows, or
any other IDE. Refer to your IDE documentation about how to add external
libraries.</p>
</section>
<section id="using-cmake-and-find-package">
<h3>Using cmake and <code class="docutils literal notranslate"><span class="pre">find_package</span></code><a class="headerlink" href="#using-cmake-and-find-package" title="Permalink to this heading">¶</a></h3>
<p>If your project is already using CMake, and you installed chemfiles on your
computer, you can use the standard <code class="docutils literal notranslate"><span class="pre">find_package</span></code> to find the code and
automatically set the right include and library path.</p>
<div class="highlight-cmake notranslate"><div class="highlight"><pre><span></span><span class="nb">add_executable</span><span class="p">(</span><span class="s">my-code</span><span class="w"> </span><span class="s">my-code.cpp</span><span class="p">)</span>

<span class="nb">find_package</span><span class="p">(</span><span class="s">chemfiles</span><span class="w"> </span><span class="s">0.8</span><span class="p">)</span>
<span class="c"># chemfiles_FOUND will be TRUE if the code was found</span>

<span class="nb">target_link_library</span><span class="p">(</span><span class="s">my-code</span><span class="w"> </span><span class="s">chemfiles</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="including-chemfiles-as-a-cmake-subproject">
<h3>Including chemfiles as a CMake subproject<a class="headerlink" href="#including-chemfiles-as-a-cmake-subproject" title="Permalink to this heading">¶</a></h3>
<p>If your project is already using CMake, but you don’t want to require your users
to install chemfiles separately, you can use cmake support for external
projects or subdirectories to include chemfiles sources directly inside your own
project. All CMake variables controlling chemfiles behavior are prefixed with
<code class="docutils literal notranslate"><span class="pre">CHFL_</span></code> to prevent variable pollution.</p>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
  <footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
    </p>
    <p class="pull-left">
        &copy; Copyright Guillaume Fraux and contributors.
    </p>
    <p class="text-center">
        BSD licensed on <a href="https://github.com/chemfiles/chemfiles">Github</a>
    </p>
  </div>
</footer>

  </body>
</html>